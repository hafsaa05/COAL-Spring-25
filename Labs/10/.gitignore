INCLUDE Irvine32.inc

.data
    Str1 BYTE '127&j~3#^&*#*#45^', 0
    foundMsg BYTE "Character found at index: ", 0
    notFoundMsg BYTE "Character not found", 0

.code
main PROC
    cld                         ; Clear direction flag (scan forward)
    mov edi, OFFSET Str1        ; EDI points to string
    mov al, '#'                 ; Character to find
    mov ecx, LENGTHOF Str1      ; Search length

    repne scasb                 ; Repeat while not equal
    jnz NotFound                ; Jump if not found

    ; Character was found
    mov eax, edi
    sub eax, OFFSET Str1        ; EDI - base = position (1-based)
    dec eax                     ; Adjust for 0-based index

    mov edx, OFFSET foundMsg
    call WriteString
    call WriteDec               ; Show index
    call Crlf
    jmp Done

NotFound:
    mov edx, OFFSET notFoundMsg
    call WriteString
    call Crlf

Done:
    exit
main ENDP

END main

